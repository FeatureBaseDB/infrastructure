`cfn-pilosa` requires some existing infrastructure in place to launch servers and provide network access and domain names. This template provides the necessary AWS infrastructure:

- VPC
- Subnet
- Internet Gateway
- Route Table
- Hosted Zone (DNS)

To create this stack, you will need to provide a subdomain under which you will be adding nodes. Substitute `subdomain.company.com` below:

```
aws cloudformation create-stack --stack-name sandbox --template-body file://cfn-sandbox-basic.yaml --parameters ParameterKey=DomainName,ParameterValue=subdomain.company.com
```

After the stack is created, you will need to acquire the Subnet and VPC IDs. They are in the Outputs section of the datastructure returned by the following command:

```
aws cloudformation describe-stacks --stack-name sandbox 
```

For the DNS to work, you'll need to copy the NS record generated by this stack to your root DNS configuration. This stack creates a Route53 Hosted Zone that will contain records for Pilosa hosts. The Hosted Zone is automatically assigned an NS record. Navigate to this zone in the AWS Console and note the value of the NS record. You'll then create an NS record in your domain's root zone and copy this value into it.
